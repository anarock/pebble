{
  "remainingRequest": "/Users/ritz078/projects/pebble/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[[\"env\",{\"targets\":{\"node\":\"6\"}}],[\"/Users/ritz078/projects/pebble/node_modules/babel-preset-react-app/index.js\",{\"flow\":false}],\"/Users/ritz078/projects/pebble/node_modules/docz-core/node_modules/@babel/preset-typescript/lib/index.js\"],\"plugins\":[\"/Users/ritz078/projects/pebble/node_modules/react-hot-loader/babel.js\",\"/Users/ritz078/projects/pebble/node_modules/docz-core/node_modules/@babel/plugin-syntax-dynamic-import/lib/index.js\"],\"env\":{\"test\":{\"plugins\":[\"require-context-hook\"]}},\"cacheDirectory\":true,\"babelrc\":false}!/Users/ritz078/projects/pebble/node_modules/react-docgen-typescript-loader/dist/index.js!/Users/ritz078/projects/pebble/src/components/shared/OptionGroup.tsx",
  "dependencies": [
    {
      "path": "/Users/ritz078/projects/pebble/src/components/shared/OptionGroup.tsx",
      "mtime": 1534351907152
    },
    {
      "path": "/Users/ritz078/projects/pebble/node_modules/cache-loader/dist/cjs.js",
      "mtime": 0
    },
    {
      "path": "/Users/ritz078/projects/pebble/node_modules/docz-core/node_modules/babel-loader/lib/index.js",
      "mtime": 1529635966000
    },
    {
      "path": "/Users/ritz078/projects/pebble/node_modules/react-docgen-typescript-loader/dist/index.js",
      "mtime": 1534034887000
    }
  ],
  "contextDependencies": [],
  "result": [
    "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _jsxFileName = \"/Users/ritz078/projects/pebble/src/components/shared/OptionGroup.tsx\";\n\nvar _react = require(\"react\");\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _scrollIntoViewIfNeeded = require(\"scroll-into-view-if-needed\");\n\nvar _scrollIntoViewIfNeeded2 = _interopRequireDefault(_scrollIntoViewIfNeeded);\n\nvar _emotion = require(\"emotion\");\n\nvar _Search = require(\"../Search\");\n\nvar _Search2 = _interopRequireDefault(_Search);\n\nvar _OptionGroup = require(\"../styles/OptionGroup.styles\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar OptionGroup =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(OptionGroup, _React$PureComponent);\n\n  function OptionGroup() {\n    var _ref;\n\n    var _temp, _this;\n\n    _classCallCheck(this, OptionGroup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_ref = OptionGroup.__proto__ || Object.getPrototypeOf(OptionGroup)).call.apply(_ref, [this].concat(args))), Object.defineProperty(_assertThisInitialized(_this), \"optionRef\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: React.createRef()\n    }), Object.defineProperty(_assertThisInitialized(_this), \"state\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: {\n        selected: 0,\n        isScrolled: false\n      }\n    }), Object.defineProperty(_assertThisInitialized(_this), \"handleKeyPress\", {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function value(e) {\n        var _this$props = _this.props,\n            children = _this$props.children,\n            handleChange = _this$props.handleChange;\n        var selected = _this.state.selected;\n\n        if (e.which === 13) {\n          var _children$selected$pr = children[selected].props,\n              value = _children$selected$pr.value,\n              isSelected = _children$selected$pr.isSelected;\n          handleChange({\n            value: value,\n            checked: !isSelected\n          });\n        }\n\n        _this.setState(function () {\n          var _selected = selected;\n\n          if (e.which === 40) {\n            e.preventDefault();\n            _selected = Math.min(_selected + 1, React.Children.count(children) - 1);\n          }\n\n          if (e.which === 38) {\n            e.preventDefault();\n            _selected = Math.max(_selected - 1, 0);\n          }\n\n          return {\n            selected: _selected\n          };\n        }, function () {\n          if (_this.optionRef.current && (e.which === 40 || e.which === 38)) {\n            (0, _scrollIntoViewIfNeeded2.default)(ReactDOM.findDOMNode(_this[\"option-ref-\".concat(selected)].current), {\n              behavior: \"smooth\",\n              boundary: _this.optionRef.current\n            });\n          }\n        });\n      }\n    }), _temp));\n  }\n\n  _createClass(OptionGroup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      document.addEventListener(\"keydown\", this.handleKeyPress);\n      this.observer = new IntersectionObserver(function (entries) {\n        _this2.setState({\n          isScrolled: entries[0].intersectionRatio < 0.9\n        });\n      }, {\n        root: this.optionRef.current,\n        threshold: 0.9\n      });\n\n      if (this.optionRef.current) {\n        this.observer.observe(this.optionRef.current.childNodes[0]);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"keydown\", this.handleKeyPress);\n      this.observer.disconnect();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          searchBox = _this$props2.searchBox,\n          children = _this$props2.children,\n          multiSelect = _this$props2.multiSelect,\n          onSearchBoxQueryChange = _this$props2.onSearchBoxQueryChange,\n          className = _this$props2.className,\n          searchBoxPlaceholder = _this$props2.searchBoxPlaceholder,\n          isSelected = _this$props2.isSelected,\n          handleChange = _this$props2.handleChange;\n      var _this$state = this.state,\n          isScrolled = _this$state.isScrolled,\n          selected = _this$state.selected;\n\n      var _children = React.Children.map(children, function (option, i) {\n        _this3[\"option-ref-\".concat(i)] = React.createRef();\n        return React.cloneElement(option, {\n          onChange: handleChange,\n          isActive: selected === i,\n          isSelected: isSelected(option.props.value),\n          multiSelect: multiSelect,\n          // @ts-ignore\n          ref: _this3[\"option-ref-\".concat(i)]\n        });\n      });\n\n      var searchBoxClassName = (0, _emotion.cx)(_OptionGroup.searchBoxWrapper, _defineProperty({}, _OptionGroup.searchBoxScrolledStyle, isScrolled));\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, searchBox && React.createElement(\"div\", {\n        className: searchBoxClassName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(_Search2.default, {\n        type: \"small\",\n        onChange: onSearchBoxQueryChange,\n        placeholder: searchBoxPlaceholder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        ref: this.optionRef,\n        style: {\n          paddingTop: searchBox ? 0 : undefined\n        },\n        className: (0, _emotion.cx)(_OptionGroup.optionsWrapper, className),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, _children));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return OptionGroup;\n}(React.PureComponent);\n\nvar _default = OptionGroup;\nexports.default = _default;\n\ntry {\n  // @ts-ignore\n  OptionGroup.displayName = \"OptionGroup\"; // @ts-ignore\n\n  OptionGroup.__docgenInfo = {\n    \"description\": \"\",\n    \"displayName\": \"OptionGroup\",\n    \"props\": {\n      \"className\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"className\",\n        \"required\": false,\n        \"type\": {\n          \"name\": \"string\"\n        }\n      },\n      \"searchBox\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"searchBox\",\n        \"required\": false,\n        \"type\": {\n          \"name\": \"boolean\"\n        }\n      },\n      \"onSearchBoxQueryChange\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"onSearchBoxQueryChange\",\n        \"required\": false,\n        \"type\": {\n          \"name\": \"(query: string) => void\"\n        }\n      },\n      \"searchBoxPlaceholder\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"searchBoxPlaceholder\",\n        \"required\": false,\n        \"type\": {\n          \"name\": \"string\"\n        }\n      },\n      \"isSelected\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"isSelected\",\n        \"required\": true,\n        \"type\": {\n          \"name\": \"(value: ReactText) => boolean\"\n        }\n      },\n      \"handleChange\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"handleChange\",\n        \"required\": true,\n        \"type\": {\n          \"name\": \"(args: { value: ReactText; checked: boolean; }) => void\"\n        }\n      },\n      \"multiSelect\": {\n        \"defaultValue\": null,\n        \"description\": \"\",\n        \"name\": \"multiSelect\",\n        \"required\": false,\n        \"type\": {\n          \"name\": \"boolean\"\n        }\n      }\n    }\n  }; // @ts-ignore\n\n  if (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") // @ts-ignore\n    STORYBOOK_REACT_CLASSES[\"src/components/shared/OptionGroup.tsx#OptionGroup\"] = {\n      docgenInfo: OptionGroup.__docgenInfo,\n      name: \"OptionGroup\",\n      path: \"src/components/shared/OptionGroup.tsx#OptionGroup\"\n    };\n} catch (__react_docgen_typescript_loader_error) {}\n\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(OptionGroup, \"OptionGroup\", \"/Users/ritz078/projects/pebble/src/components/shared/OptionGroup.tsx\");\n  reactHotLoader.register(_default, \"default\", \"/Users/ritz078/projects/pebble/src/components/shared/OptionGroup.tsx\");\n  leaveModule(module);\n})();\n\n;",
    {
      "version": 3,
      "sources": ["src/components/shared/OptionGroup.tsx"],
      "names": [
        "React",
        "ReactDOM",
        "OptionGroup",
        "createRef",
        "selected",
        "isScrolled",
        "e",
        "props",
        "children",
        "handleChange",
        "state",
        "which",
        "value",
        "isSelected",
        "checked",
        "setState",
        "_selected",
        "preventDefault",
        "Math",
        "min",
        "Children",
        "count",
        "max",
        "optionRef",
        "current",
        "findDOMNode",
        "behavior",
        "boundary",
        "document",
        "addEventListener",
        "handleKeyPress",
        "observer",
        "IntersectionObserver",
        "entries",
        "intersectionRatio",
        "root",
        "threshold",
        "observe",
        "childNodes",
        "removeEventListener",
        "disconnect",
        "searchBox",
        "multiSelect",
        "onSearchBoxQueryChange",
        "className",
        "searchBoxPlaceholder",
        "_children",
        "map",
        "option",
        "i",
        "cloneElement",
        "onChange",
        "isActive",
        "ref",
        "searchBoxClassName",
        "searchBoxWrapper",
        "searchBoxScrolledStyle",
        "paddingTop",
        "undefined",
        "optionsWrapper",
        "PureComponent",
        "displayName",
        "__docgenInfo",
        "STORYBOOK_REACT_CLASSES",
        "docgenInfo",
        "name",
        "path",
        "__react_docgen_typescript_loader_error"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/ritz078/projects/pebble",
      "sourcesContent": [
        "import * as React from \"react\";\nimport { OptionProps } from \"../typings/Option\";\nimport * as ReactDOM from \"react-dom\";\nimport { OptionGroupProps_, OptionGroupState_ } from \"../typings/OptionGroup\";\nimport scrollIntoView from \"scroll-into-view-if-needed\";\nimport { cx } from \"emotion\";\nimport Search from \"../Search\";\nimport {\n  searchBoxScrolledStyle,\n  searchBoxWrapper,\n  optionsWrapper\n} from \"../styles/OptionGroup.styles\";\n\nclass OptionGroup extends React.PureComponent<\n  OptionGroupProps_,\n  OptionGroupState_\n> {\n  optionRef: React.RefObject<HTMLDivElement> = React.createRef();\n  observer: IntersectionObserver;\n\n  state = {\n    selected: 0,\n    isScrolled: false\n  };\n\n  private handleKeyPress = (e: KeyboardEvent) => {\n    const { children, handleChange } = this.props;\n    const { selected } = this.state;\n\n    if (e.which === 13) {\n      const {\n        props: { value, isSelected }\n      }: Partial<React.ReactElement<OptionProps>> = children[selected];\n\n      handleChange({\n        value,\n        checked: !isSelected\n      });\n    }\n\n    this.setState(\n      () => {\n        let _selected = selected;\n        if (e.which === 40) {\n          e.preventDefault();\n          _selected = Math.min(\n            _selected + 1,\n            React.Children.count(children) - 1\n          );\n        }\n        if (e.which === 38) {\n          e.preventDefault();\n          _selected = Math.max(_selected - 1, 0);\n        }\n\n        return { selected: _selected };\n      },\n      () => {\n        if (this.optionRef.current && (e.which === 40 || e.which === 38)) {\n          scrollIntoView(\n            ReactDOM.findDOMNode(\n              this[`option-ref-${selected}`].current\n            ) as Element,\n            {\n              behavior: \"smooth\",\n              boundary: this.optionRef.current\n            }\n          );\n        }\n      }\n    );\n  };\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.handleKeyPress);\n\n    this.observer = new IntersectionObserver(\n      entries => {\n        this.setState({\n          isScrolled: entries[0].intersectionRatio < 0.9\n        });\n      },\n      {\n        root: this.optionRef.current,\n        threshold: 0.9\n      }\n    );\n\n    if (this.optionRef.current) {\n      this.observer.observe(this.optionRef.current.childNodes[0] as Element);\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleKeyPress);\n    this.observer.disconnect();\n  }\n\n  render() {\n    const {\n      searchBox,\n      children,\n      multiSelect,\n      onSearchBoxQueryChange,\n      className,\n      searchBoxPlaceholder,\n      isSelected,\n      handleChange\n    } = this.props;\n    const { isScrolled, selected } = this.state;\n\n    const _children = React.Children.map(\n      children,\n      (option: React.ReactElement<OptionProps>, i) => {\n        this[`option-ref-${i}`] = React.createRef();\n        return React.cloneElement(option, {\n          onChange: handleChange,\n          isActive: selected === i,\n          isSelected: isSelected(option.props.value),\n          multiSelect,\n          // @ts-ignore\n          ref: this[`option-ref-${i}`]\n        });\n      }\n    );\n\n    const searchBoxClassName = cx(searchBoxWrapper, {\n      [searchBoxScrolledStyle]: isScrolled\n    });\n\n    return (\n      <React.Fragment>\n        {searchBox && (\n          <div className={searchBoxClassName}>\n            <Search\n              type=\"small\"\n              onChange={onSearchBoxQueryChange}\n              placeholder={searchBoxPlaceholder}\n            />\n          </div>\n        )}\n        <div\n          ref={this.optionRef}\n          style={{\n            paddingTop: searchBox ? 0 : undefined\n          }}\n          className={cx(optionsWrapper, className)}\n        >\n          {_children}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default OptionGroup;\ntry {\n    // @ts-ignore\n    OptionGroup.displayName = \"OptionGroup\";\n    // @ts-ignore\n    OptionGroup.__docgenInfo = { \"description\": \"\", \"displayName\": \"OptionGroup\", \"props\": { \"className\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"className\", \"required\": false, \"type\": { \"name\": \"string\" } }, \"searchBox\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"searchBox\", \"required\": false, \"type\": { \"name\": \"boolean\" } }, \"onSearchBoxQueryChange\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"onSearchBoxQueryChange\", \"required\": false, \"type\": { \"name\": \"(query: string) => void\" } }, \"searchBoxPlaceholder\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"searchBoxPlaceholder\", \"required\": false, \"type\": { \"name\": \"string\" } }, \"isSelected\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"isSelected\", \"required\": true, \"type\": { \"name\": \"(value: ReactText) => boolean\" } }, \"handleChange\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"handleChange\", \"required\": true, \"type\": { \"name\": \"(args: { value: ReactText; checked: boolean; }) => void\" } }, \"multiSelect\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"multiSelect\", \"required\": false, \"type\": { \"name\": \"boolean\" } } } };\n    // @ts-ignore\n    if (typeof STORYBOOK_REACT_CLASSES !== \"undefined\")\n        // @ts-ignore\n        STORYBOOK_REACT_CLASSES[\"src/components/shared/OptionGroup.tsx#OptionGroup\"] = { docgenInfo: OptionGroup.__docgenInfo, name: \"OptionGroup\", path: \"src/components/shared/OptionGroup.tsx#OptionGroup\" };\n}\ncatch (__react_docgen_typescript_loader_error) { }"
      ]
    }
  ]
}
